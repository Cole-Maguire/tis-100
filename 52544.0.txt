@0


@1
MOV UP, RIGHT #X
MOV UP, RIGHT #Y

MOV UP, DOWN #W
MOV UP, DOWN #H

@2
MOV LEFT, DOWN
MOV LEFT, DOWN

@3
#ACC COUNTER
START:
MOV RIGHT, ACC
SUB 1
MOV ACC, RIGHT

LOOP:
MOV ACC, RIGHT
MOV ACC, RIGHT
SUB 1

JLZ START
JMP LOOP

@4
START:MOV UP, ACC
SAV
MOV UP, LEFT #H
MOV LEFT, RIGHT
OUTER:SWP
SAV
MOV LEFT, RIGHT
LOOP:MOV 3 DOWN
SUB 1
JGZ LOOP
MOV 0 DOWN
MOV LEFT, ACC

JGZ OUTER

@5
START:
MOV UP, RIGHT #X
MOV UP, ACC #Y
SAV
MOV LEFT, RIGHT
LOOP:
MOV RIGHT DOWN
ADD LEFT

MOV ACC DOWN
MOV RIGHT, ACC
JEZ START
SWP
SAV
JGZ LOOP

@6
#X STORE, H COUNT
MOV LEFT, ACC
SAV
MOV LEFT, ACC
ADD 1
LOOP:
SWP
MOV ACC, LEFT
SWP
SUB 1
MOV ACC, LEFT
JGZ LOOP

@7


@8
MOV UP, RIGHT

@9
MOV UP, DOWN
MOV UP, DOWN

LOOP:
MOV LEFT, ACC
JEZ FINISH
MOV ACC, DOWN
JMP LOOP

FINISH:
MOV -1 DOWN

@10
